<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Luma Icon Generator</title>
</head>
<body style="background: #1a1a1a; padding: 40px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
  <h1 style="color: #3b82f6; margin-bottom: 40px;">Luma Icon Generator</h1>
  <p style="color: #fff; margin-bottom: 20px;">
    Click any icon to download it as a PNG file.
  </p>

  <!-- ===== Dark Gradient (Square) ===== -->
  <h2 style="color: #3b82f6; margin-top: 40px;">Dark Gradient — Square</h2>
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;" id="section-dark-square"></div>

  <!-- ===== Dark Gradient (Rounded) ===== -->
  <h2 style="color: #3b82f6; margin-top: 40px;">Dark Gradient — Rounded</h2>
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;" id="section-dark-rounded"></div>

  <!-- ===== White Background, Blue Logo (Square) ===== -->
  <h2 style="color: #3b82f6; margin-top: 40px;">White + Blue Logo — Square</h2>
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;" id="section-white-square"></div>

  <!-- ===== White Background, Blue Logo (Rounded) ===== -->
  <h2 style="color: #3b82f6; margin-top: 40px;">White + Blue Logo — Rounded</h2>
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;" id="section-white-rounded"></div>

  <!-- ===== Black Background, Blue Logo (Square) ===== -->
  <h2 style="color: #3b82f6; margin-top: 40px;">Black + Blue Logo — Square</h2>
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;" id="section-black-square"></div>

  <!-- ===== Black Background, Blue Logo (Rounded) ===== -->
  <h2 style="color: #3b82f6; margin-top: 40px;">Black + Blue Logo — Rounded</h2>
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;" id="section-black-rounded"></div>

  <script>
    const sizes = [1024, 512, 256, 192, 180, 128, 64, 32, 16];

    const variants = [
      { id: 'dark-square',    label: 'Dark Gradient',     bg: 'gradient', tint: null,    rounded: false },
      { id: 'dark-rounded',   label: 'Dark Gradient',     bg: 'gradient', tint: null,    rounded: true  },
      { id: 'white-square',   label: 'White + Blue',      bg: '#FFFFFF',  tint: null,    rounded: false },
      { id: 'white-rounded',  label: 'White + Blue',      bg: '#FFFFFF',  tint: null,    rounded: true  },
      { id: 'black-square',   label: 'Dark + Glow',          bg: '#000000',  tint: null,    rounded: false, glow: true },
      { id: 'black-rounded',  label: 'Dark + Glow',          bg: '#000000',  tint: null,    rounded: true,  glow: true },
    ];

    // Create canvases
    variants.forEach(variant => {
      const container = document.getElementById(`section-${variant.id}`);
      sizes.forEach(size => {
        const wrapper = document.createElement('div');
        wrapper.style.cssText = 'background: #0a0a0a; padding: 20px; border-radius: 8px; text-align: center;';
        if (variant.bg === '#FFFFFF') wrapper.style.background = '#333';

        const canvas = document.createElement('canvas');
        canvas.id = `icon-${variant.id}-${size}`;
        canvas.width = size;
        canvas.height = size;
        canvas.style.cssText = `border-radius: ${variant.rounded ? '12px' : '0'}; max-width: ${Math.min(size, 300)}px; height: auto;`;

        const label = document.createElement('p');
        label.style.cssText = 'color: #888; margin-top: 10px; font-size: 13px;';
        label.textContent = `${size}x${size}`;

        wrapper.appendChild(canvas);
        wrapper.appendChild(label);
        container.appendChild(wrapper);
      });
    });

    // Load the L icon
    const logoImg = new Image();
    logoImg.src = 'luma-L-icon.png';

    logoImg.onload = () => {
      variants.forEach(variant => {
        sizes.forEach(size => {
          const canvas = document.getElementById(`icon-${variant.id}-${size}`);
          drawIcon(canvas, logoImg, variant);
        });
      });

      // Download on click
      document.querySelectorAll('canvas').forEach(canvas => {
        canvas.style.cursor = 'pointer';
        canvas.title = 'Click to download';
        canvas.addEventListener('click', function() {
          const link = document.createElement('a');
          link.download = `luma-${canvas.id.replace('icon-', '')}.png`;
          link.href = canvas.toDataURL();
          link.click();
        });
      });
    };

    function drawIcon(canvas, img, variant) {
      const ctx = canvas.getContext('2d');
      const size = canvas.width;
      const radius = variant.rounded ? size * 0.22 : 0;

      // Clip to rounded rect if needed
      if (radius > 0) {
        ctx.beginPath();
        ctx.moveTo(radius, 0);
        ctx.lineTo(size - radius, 0);
        ctx.quadraticCurveTo(size, 0, size, radius);
        ctx.lineTo(size, size - radius);
        ctx.quadraticCurveTo(size, size, size - radius, size);
        ctx.lineTo(radius, size);
        ctx.quadraticCurveTo(0, size, 0, size - radius);
        ctx.lineTo(0, radius);
        ctx.quadraticCurveTo(0, 0, radius, 0);
        ctx.closePath();
        ctx.clip();
      }

      // Background
      if (variant.bg === 'gradient') {
        const gradient = ctx.createLinearGradient(0, 0, size, size);
        gradient.addColorStop(0, '#030712');
        gradient.addColorStop(0.5, '#0f172a');
        gradient.addColorStop(1, '#030712');
        ctx.fillStyle = gradient;
      } else {
        ctx.fillStyle = variant.bg;
      }
      ctx.fillRect(0, 0, size, size);

      // Subtle radial glow behind the L
      if (variant.glow) {
        const glow = ctx.createRadialGradient(size / 2, size / 2, 0, size / 2, size / 2, size * 0.45);
        glow.addColorStop(0, 'rgba(37, 99, 235, 0.15)');
        glow.addColorStop(1, 'rgba(37, 99, 235, 0)');
        ctx.fillStyle = glow;
        ctx.fillRect(0, 0, size, size);
      }

      // Draw L centered
      const padding = size * 0.20;
      const drawArea = size - padding * 2;
      const imgRatio = img.width / img.height;
      let drawW, drawH;
      if (imgRatio > 1) {
        drawW = drawArea;
        drawH = drawArea / imgRatio;
      } else {
        drawH = drawArea;
        drawW = drawArea * imgRatio;
      }
      const x = (size - drawW) / 2;
      const y = (size - drawH) / 2;

      ctx.imageSmoothingEnabled = true;
      ctx.imageSmoothingQuality = 'high';

      if (variant.tint === 'black') {
        // Draw L in black: use the image as an alpha mask
        // Create offscreen canvas, draw image, then composite to black
        const off = document.createElement('canvas');
        off.width = size;
        off.height = size;
        const offCtx = off.getContext('2d');
        offCtx.drawImage(img, x, y, drawW, drawH);

        // Replace all colors with black, keep alpha
        offCtx.globalCompositeOperation = 'source-in';
        offCtx.fillStyle = '#000000';
        offCtx.fillRect(0, 0, size, size);

        ctx.drawImage(off, 0, 0);
      } else {
        ctx.drawImage(img, x, y, drawW, drawH);
      }
    }
  </script>

  <div style="margin-top: 40px; padding: 20px; background: #171717; border-radius: 8px; color: #888;">
    <h3 style="color: #3b82f6; margin-top: 0;">Instructions:</h3>
    <ol style="line-height: 1.8;">
      <li>Click on any icon to download it as a PNG file</li>
      <li>Place the downloaded files in your <code style="background: #262626; padding: 2px 6px; border-radius: 4px;">public</code> folder</li>
      <li>For Luma-App: save 1024x1024 dark as <code style="background: #262626; padding: 2px 6px; border-radius: 4px;">logo-dark.png</code>, white as <code style="background: #262626; padding: 2px 6px; border-radius: 4px;">logo-light.png</code></li>
      <li>For favicon: use the 32x32 or convert to .ico</li>
    </ol>
  </div>
</body>
</html>
